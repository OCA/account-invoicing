-
  In order to test the module a create a new invoice
-
  !record {model: account.invoice, id: account_invoice_number}:
    company_id: base.main_company
    currency_id: base.EUR
    internal_number: '0001'
    invoice_line_ids:
      - name: '[PCSC234] PC Assemble SC234'
        price_unit: 450.0
        quantity: 1.0
        product_id: product.product_product_3
        uom_id: product.product_uom_unit
    partner_id: base.res_partner_12
    reference_type: none
-
  I validate the invoice
-
  !python {model: account.invoice.confirm}: |
    self.invoice_confirm(
      cr, uid, [ref("account_invoice_number")],
      {
        "active_model": "account.invoice",
        "active_ids": [ref("account_invoice_number")],
        "active_id": ref("account_invoice_number"),
      })
-
  I check the journal associated and put this journal as not
-
  !assert {model: account.invoice, id: account_invoice_number}:
    - number == '0001'
